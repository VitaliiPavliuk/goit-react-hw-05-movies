{"version":3,"file":"static/js/134.404a7faa.chunk.js","mappings":"0OAwEA,UAnEA,WACE,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAAiBC,EAAAA,EAAAA,UACjBC,EAAaN,EAAaO,IAAI,SA2BpC,OAzBAC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAEA,IAAMG,EAAW,mCAAG,WAAMH,GAAN,uFAEhBV,GAAa,GAFG,UAIYc,EAAAA,EAAAA,IAAcJ,GAJ1B,OAIVK,EAJU,OAMhBjB,EAAUiB,GANM,gDAQhBb,EAAS,KAAMc,SARC,yBAUhBhB,GAAa,GAVG,4EAAH,sDAcjBa,EAAYH,EAhBW,CAiBxB,GAAE,CAACA,KAQF,4BACE,kBAAMO,SAPW,SAAAC,GACnBA,EAAMC,iBACNd,EAAgB,CAAEe,MAAOZ,EAAea,QAAQC,OACjD,EAIG,WACE,kBAAOC,IAAKf,EAAgBgB,KAAK,OAAOC,YAAY,mBACpD,mBAAQD,KAAK,SAAb,uBAGDzB,IAAa,SAAC,IAAD,IACH,OAAVE,IAAkB,wDAAgCA,MAEnD,0BACqB,IAAlBJ,EAAO6B,QACN7B,EAAO8B,KAAI,SAAAC,GACT,OACE,yBACE,SAAC,KAAD,CAAMC,MAAO,CAAEC,KAAMxB,GAAYyB,GAAE,kBAAaH,EAAMI,IAAtD,SACGJ,EAAMK,SAFFL,EAAMI,GAMlB,IAEFtB,GAAgC,IAAlBb,EAAO6B,SACpB,kGAOT,C,+LCpEKQ,EAAW,gCACXC,EAAU,mCAEHC,EAAqB,mCAAG,+FAC7BhC,EAAe,CACnBiC,OAAQ,CACNC,QAASH,IAHsB,SAOZI,EAAAA,EAAAA,IAAA,UAClBL,EADkB,uBAErB9B,GATiC,uBAO3BoC,EAP2B,EAO3BA,KAP2B,kBAY5BA,EAAKC,SAZuB,2CAAH,qDAerB3B,EAAa,mCAAG,WAAMM,GAAN,kFACrBhB,EAAe,CACnBiC,OAAQ,CACNC,QAASH,EACTf,MAAOA,IAJgB,SAQJmB,EAAAA,EAAAA,IAAA,UAAaL,EAAb,iBAAsC9B,GARlC,uBAQnBoC,EARmB,EAQnBA,KARmB,kBAUpBA,EAAKC,SAVe,2CAAH,sDAabC,EAAgB,mCAAG,WAAMC,GAAN,kFACxBvC,EAAe,CACnBiC,OAAQ,CACNC,QAASH,IAHiB,SAOPI,EAAAA,EAAAA,IAAA,UAClBL,EADkB,kBACAS,GACrBvC,GAT4B,uBAOtBoC,EAPsB,EAOtBA,KAPsB,kBAYvBA,GAZuB,2CAAH,sDAehBI,EAAe,mCAAG,WAAMD,GAAN,kFACvBvC,EAAe,CACnBiC,OAAQ,CACNC,QAASH,IAHgB,SAONI,EAAAA,EAAAA,IAAA,UAClBL,EADkB,kBACAS,EADA,YAErBvC,GAT2B,uBAOrBoC,EAPqB,EAOrBA,KAPqB,kBAYtBA,EAAKK,MAZiB,2CAAH,sDAefC,EAAkB,mCAAG,WAAMH,GAAN,kFAC1BvC,EAAe,CACnBiC,OAAQ,CACNC,QAASH,IAHmB,SAOTI,EAAAA,EAAAA,IAAA,UAClBL,EADkB,kBACAS,EADA,YAErBvC,GAT8B,uBAOxBoC,EAPwB,EAOxBA,KAPwB,kBAYzBA,EAAKC,SAZoB,2CAAH,qD","sources":["pages/Movies.jsx","services/api.js"],"sourcesContent":["import { Loader } from 'components/Loader/Loader';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { requestMovies } from 'services/api';\n\nfunction Movies() {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n  const searchInputRef = useRef();\n  const queryValue = searchParams.get('query');\n\n  useEffect(() => {\n    if (!queryValue) return;\n\n    const fetchMovies = async queryValue => {\n      try {\n        setIsLoading(true);\n\n        const fetchedMovies = await requestMovies(queryValue);\n\n        setMovies(fetchedMovies);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMovies(queryValue);\n  }, [queryValue]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchParams({ query: searchInputRef.current.value });\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input ref={searchInputRef} type=\"text\" placeholder=\"Search movies\" />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      {isLoading && <Loader />}\n      {error !== null && <p>Oops, some error occured... {error}</p>}\n\n      <ul>\n        {movies.length !== 0 &&\n          movies.map(movie => {\n            return (\n              <li key={movie.id}>\n                <Link state={{ from: location }} to={`/movies/${movie.id}`}>\n                  {movie.title}\n                </Link>\n              </li>\n            );\n          })}\n\n        {queryValue && movies.length === 0 && (\n          <p>\n            There is no matching with such movie. Please enter another movie!\n          </p>\n        )}\n      </ul>\n    </div>\n  );\n}\n\nexport default Movies;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '442842e0e9a8a18a8e446b3595831199';\n\nexport const requestTrendingMovies = async () => {\n  const searchParams = {\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  const { data } = await axios.get(\n    `${BASE_URL}/trending/movie/day`,\n    searchParams\n  );\n\n  return data.results;\n};\n\nexport const requestMovies = async query => {\n  const searchParams = {\n    params: {\n      api_key: API_KEY,\n      query: query,\n    },\n  };\n\n  const { data } = await axios.get(`${BASE_URL}/search/movie`, searchParams);\n\n  return data.results;\n};\n\nexport const requestMovieById = async movieId => {\n  const searchParams = {\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}`,\n    searchParams\n  );\n\n  return data;\n};\n\nexport const requestCastById = async movieId => {\n  const searchParams = {\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits`,\n    searchParams\n  );\n\n  return data.cast;\n};\n\nexport const requestReviewsById = async movieId => {\n  const searchParams = {\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews`,\n    searchParams\n  );\n\n  return data.results;\n};\n"],"names":["useState","movies","setMovies","isLoading","setIsLoading","error","setError","useSearchParams","searchParams","setSearchParams","location","useLocation","searchInputRef","useRef","queryValue","get","useEffect","fetchMovies","requestMovies","fetchedMovies","message","onSubmit","event","preventDefault","query","current","value","ref","type","placeholder","length","map","movie","state","from","to","id","title","BASE_URL","API_KEY","requestTrendingMovies","params","api_key","axios","data","results","requestMovieById","movieId","requestCastById","cast","requestReviewsById"],"sourceRoot":""}